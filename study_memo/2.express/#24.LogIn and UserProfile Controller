Join 완료, Login도 비슷.
postLogin 함수를 만들자.
지금은 redirect만 해주지만 나중에는 db에 있는 정보와 일치하는지 검사해야한다.

공개 페이지에 대한 작업은 다 됬으니 
이제 header template로 가서 navigation을 수정
만약 !user.isAuthenticated라면 (아직 안만든 변수임) 링크 보내주고
else라면 다른 링크를 보여줄것
profile로 가는 링크도 추가. routes.js를 보고 USER_DETAIL수정
logout

***user는 아직 존재하지 않는 변수다. 이제 이것을 가짜로 만들어 볼 것
로그인이 되었는지 할려주는 변수
=> middleware.js에서 (전역변수 생성용으로 사용했었다.)
res.locals.user에 isAuthenticated: true가 담긴 객체 입력
(디비가 없어 임시로 하는 가짜 정보다)

문제는 Profile로 들어갔을 때, 'localhost:4000/:id'로 이동한다.
id가 5면 5가 포함된 정보로 가고싶다.(미들웨어에 설정된 id가 url에 들어가게)
express는 이해하지만, HTML은 routes를 이해하지 못하기 때문이다.
=>routes 수정필요.
a태그 안에 route에 대한 설명이 아니라 실제 route의 실행이 필요. id가 url에 들어가게 하자.

routes에 userDetail을 함수로 수정.
userDetail: (id) =>{ if..}
userRouter도 수정 필요. 선언만 하면 안되고 함수를 실제로 실행해야.
=>이 경우에는 id를 인자로 해서 실행하지 않으니까 /:id를 리턴 받을 것.

####잠깐정리####
profile 링크를 클릭하면 header에 있는 profile이 routes에서 변수를 확인하고
'localhost/변수값' 으로 이동 시켜주는데,
현재 userDetail이 스트링이 아니라 함수로 되어있다.
근데 그 함수는 id를 동적으로 변화시켜 주기 위하 함수로서 결과적으로는
'localhost/user/<id>'를 리턴하고, 다시 header의 a태그는 그 리턴값으로
이동시켜주는 것이다. 그럼 userRouter에서 get을 받았으니 함수실행..

userRouter에서는 특정 id를 리턴받을 필요 없다.
userRouter는 html이 아니고 js이니까 '/:id' 를 받으면 스트링으로 인식하지 않는다

하지만 template는 html과 관련 있으므로 인자가 필요하다. 그래서 수동적으로 id받아옴
###############


videoDetail도 마찬가지이므로 같은 작업을 해주어야 한다.